project entity/doc ;
import boostbook : boostbook ;
import doxygen ;
import quickbook ;
import os ;

local BOOST_ROOT = [ os.environ BOOST_ROOT ] ;

doxygen autodoc
    :
        [ glob ../entity/*.hpp ]
        [ glob ../entity/algorithm/*.hpp ]
        [ glob ../entity/component/*.hpp ]
    :
        <doxygen:param>EXTRACT_ALL=YES
        <doxygen:param>HIDE_UNDOC_MEMBERS=NO
        <doxygen:param>EXTRACT_PRIVATE=NO
        <doxygen:param>ENABLE_PREPROCESSING=YES
        <doxygen:param>MACRO_EXPANSION=YES
        <doxygen:param>EXPAND_ONLY_PREDEF=YES
        <doxygen:param>SEARCH_INCLUDES=YES
        <doxygen:param>INCLUDE_PATH=$(BOOST_ROOT)
        <xsl:param>boost.doxygen.header.prefix=entity
    ;

xml entity
    :
        entity.qbk
    ;

boostbook standalone
    :
    	entity
    :
	    <xsl:param>boost.root=../
        <xsl:param>nav.layout=none
	    <dependency>images
	    <dependency>callouts
	    <dependency>css
	    <dependency>autodoc
    ;

install images : [ glob $(BOOST_ROOT)/doc/src/images/*.png ] : <location>html/images ;
explicit images ;
install callouts : [ glob $(BOOST_ROOT)/doc/src/images/callouts/*.png ] : <location>html/images/callouts ;
explicit callouts ;
install css : [ glob $(BOOST_ROOT)/doc/src/*.css ] : <location>html ;
explicit css ;
